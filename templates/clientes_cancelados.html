
{% extends "base.html" %}
{% block title %}Clientes Cancelados{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">🚫 Clientes Cancelados</h2>

  <div class="mb-3">
    <a href="{{ url_for('index') }}" class="btn btn-secondary">⬅️ Volver al listado</a>
  </div>

  {% if clientes %}
  <table class="table table-bordered table-hover align-middle text-center">
    <thead class="table-dark">
      <tr>
        <th>Código</th>
        <th>Nombre</th>
        <th>Dirección</th>
        <th>Teléfono</th>
        <th>Fecha Creación</th>
        <th>Saldo Total</th>
        <th>Reactivar</th>
      </tr>
    </thead>
    <tbody>
      {% for c in clientes %}
      <tr>
        <td>{{ c.codigo }}</td>
        <td>{{ c.nombre }}</td>
        <td>{{ c.direccion or "—" }}</td>
        <td>{{ c.telefono or "—" }}</td>
        <td>{{ c.fecha_creacion.strftime("%d/%m/%Y") }}</td>
        <td>${{ "%.2f"|format(c.saldo_total()) }}</td>
        <td>
          <form action="{{ url_for('reactivar_cliente', cliente_id=c.id) }}" method="post"
                onsubmit="return confirm('¿Deseas reactivar este cliente?');">
            <button type="submit" class="btn btn-success btn-sm">🔄 Reactivar</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="alert alert-info text-center">
    No hay clientes cancelados actualmente.
  </div>
  {% endif %}
</div>
{% endblock %}
